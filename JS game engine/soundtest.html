<!DOCTYPE html>
<html>
<head>
  <title>Sound Test</title>
</head>
<body>
  <h1>Sound Test</h1>
  <p>Press the space bar to play a 440 Hz sine wave, or the up arrow to play a 220 Hz sine wave.</p>

  <script src="SimpleMusic.js"></script>
  <script>
    const audioCtx = new AudioContext();

    const notes = {};

    function onKeyDown(event) {
      let note;
      switch (event.code) {
        case 'Space':
          note = new Note('A4');
          break;
        case 'ArrowUp':
          note = new Note('A3');
          break;
        default:
          return;
      }
      note.start();
      notes[event.keyCode] = note;
    }

    function onKeyUp(event) {
      if (event.keyCode in notes) {
        const note = notes[event.keyCode];
        note.stop();
        delete notes[event.keyCode];
      }
    }

    document.addEventListener('keydown', onKeyDown);
    document.addEventListener('keyup', onKeyUp);
  </script>
</body>
</html>
